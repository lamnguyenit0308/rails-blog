<%= form_with model: @post do |form| %>
  <h2>New post</h2>
  <div class="form-group mt-3">
    <%= form.label :title %>
    <%= form.text_field :title, class: "form-control" %>
    <% @post.errors.full_messages_for(:title).each do |message| %>
      <small class="text-danger"><%= message %></small>
    <% end %>
  </div>
  <div class="form-group mt-3">
    <%= form.label :content %>
    <%= form.cktext_area :content, class: "form-control", rows: 10, cols: 100 %>
    <% @post.errors.full_messages_for(:content).each do |message| %>
      <small class="text-danger"><%= message %></small><br>
    <% end %>
  </div>
  <div class="form-group mt-3">
    <%= form.label "Pushlish", class: "form-check-label" %>
    <%= form.select :status, options_for_select([['Draft', 'draft'], ['Published', 'published']], selected: @post.status == 'published' ? 'published' : 'draft'), {}, { class: 'form-select' } %>
    <% @post.errors.full_messages_for(:status).each do |message| %>
      <small class="text-danger"><%= message %></small><br>
    <% end %>
  </div>
  <div class="form-group mt-3">
    <%= form.label :cover_photo_link %>
    <%= form.file_field :cover_photo_link %>
    <div class="preview-cover">
      <img src="" alt="cover photo" id="preview-image" width="100%" height="100%">
    </div>
    <% @post.errors.full_messages_for(:cover_photo_link).each do |message| %>
      <small class="text-danger"><%= message %></small><br>
    <% end %>
    <div class="gr-btn-preview mt-2">
      <button type="button" class="btn btn-outline-success btn-select-cover-photo">Select image</button>
      <button type="button" class="btn btn-outline-danger btn-delete-cover-photo">Remove image</button>
    </div>
  </div>
  <div class="mt-3">
    <%= form.submit "Create post", class: "btn btn-outline-primary" %>
  </div>
<% end %>
<%= render "posts/share/js" %>
